// Code generated by modusGraphGen. DO NOT EDIT.

package movies

import (
	"context"

	"github.com/matthewmcneely/modusgraph"
)

// GenreQuery is a typed query builder for Genre entities.
type GenreQuery struct {
	conn      modusgraph.Client
	ctx       context.Context
	filter    string
	first     int
	offset    int
	orderBy   string
	orderDesc bool
}

// Query begins a new query for Genre entities.
func (c *GenreClient) Query(ctx context.Context) *GenreQuery {
	return &GenreQuery{conn: c.conn, ctx: ctx, first: defaultPageSize}
}

// Filter adds a DQL filter expression to the query.
func (q *GenreQuery) Filter(f string) *GenreQuery {
	q.filter = f
	return q
}

// OrderAsc sets ascending order on the given field.
func (q *GenreQuery) OrderAsc(field string) *GenreQuery {
	q.orderBy = field
	q.orderDesc = false
	return q
}

// OrderDesc sets descending order on the given field.
func (q *GenreQuery) OrderDesc(field string) *GenreQuery {
	q.orderBy = field
	q.orderDesc = true
	return q
}

// First limits the result to n nodes.
func (q *GenreQuery) First(n int) *GenreQuery {
	q.first = n
	return q
}

// Offset skips the first n nodes.
func (q *GenreQuery) Offset(n int) *GenreQuery {
	q.offset = n
	return q
}

// Exec executes the query and populates dst with the results.
func (q *GenreQuery) Exec(dst *[]Genre) error {
	dq := q.conn.Query(q.ctx, Genre{})
	if q.filter != "" {
		dq = dq.Filter(q.filter)
	}
	if q.first > 0 {
		dq = dq.First(q.first)
	}
	if q.offset > 0 {
		dq = dq.Offset(q.offset)
	}
	if q.orderBy != "" {
		if q.orderDesc {
			dq = dq.OrderDesc(q.orderBy)
		} else {
			dq = dq.OrderAsc(q.orderBy)
		}
	}
	return dq.Nodes(dst)
}

// ExecAndCount executes the query and returns both the results and total count.
func (q *GenreQuery) ExecAndCount(dst *[]Genre) (int, error) {
	dq := q.conn.Query(q.ctx, Genre{})
	if q.filter != "" {
		dq = dq.Filter(q.filter)
	}
	if q.first > 0 {
		dq = dq.First(q.first)
	}
	if q.offset > 0 {
		dq = dq.Offset(q.offset)
	}
	if q.orderBy != "" {
		if q.orderDesc {
			dq = dq.OrderDesc(q.orderBy)
		} else {
			dq = dq.OrderAsc(q.orderBy)
		}
	}
	return dq.NodesAndCount(dst)
}
